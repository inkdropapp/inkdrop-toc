{"version":3,"sources":["../src/toc.js"],"names":["module","exports","origAComponent","activate","markdownRenderer","remarkPlugins","push","Toc","setTocLinkComponent","deactivate","filter","plugin","unsetTocComponent","OrigA","remarkReactComponents","a","RemarkAnchor"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,cAAc,EAAE,IADD;;AAGfC,EAAAA,QAAQ,GAAG;AACT,QAAIC,yBAAJ,EAAsB;AACpBA,gCAAiBC,aAAjB,CAA+BC,IAA/B,CAAoCC,kBAApC;;AACA,WAAKC,mBAAL;AACD;AACF,GARc;;AAUfC,EAAAA,UAAU,GAAG;AACX,QAAIL,yBAAJ,EAAsB;AACpBA,gCAAiBC,aAAjB,GAAiCD,0BAAiBC,aAAjB,CAA+BK,MAA/B,CAC/BC,MAAM,IAAIA,MAAM,KAAKJ,kBADU,CAAjC;AAGA,WAAKK,iBAAL;AACD;AACF,GAjBc;;AAmBfJ,EAAAA,mBAAmB,GAAG;AACpB,UAAMK,KAAK,GAAGT,0BAAiBU,qBAAjB,CAAuCC,CAArD;AACA,UAAMC,YAAY,GAAG,2BAAmBH,KAAnB,CAArB;AACAT,8BAAiBU,qBAAjB,CAAuCC,CAAvC,GAA2CC,YAA3C;AACA,SAAKd,cAAL,GAAsBW,KAAtB;AACD,GAxBc;;AA0BfD,EAAAA,iBAAiB,GAAG;AAClBR,8BAAiBU,qBAAjB,CAAuCC,CAAvC,GAA2C,KAAKb,cAAhD;AACD;;AA5Bc,CAAjB","sourcesContent":["import Toc from 'remark-toc'\nimport createRemarkAnchor from './remark-anchor'\nimport { markdownRenderer } from 'inkdrop'\n\nmodule.exports = {\n  origAComponent: null,\n\n  activate() {\n    if (markdownRenderer) {\n      markdownRenderer.remarkPlugins.push(Toc)\n      this.setTocLinkComponent()\n    }\n  },\n\n  deactivate() {\n    if (markdownRenderer) {\n      markdownRenderer.remarkPlugins = markdownRenderer.remarkPlugins.filter(\n        plugin => plugin !== Toc\n      )\n      this.unsetTocComponent()\n    }\n  },\n\n  setTocLinkComponent() {\n    const OrigA = markdownRenderer.remarkReactComponents.a\n    const RemarkAnchor = createRemarkAnchor(OrigA)\n    markdownRenderer.remarkReactComponents.a = RemarkAnchor\n    this.origAComponent = OrigA\n  },\n\n  unsetTocComponent() {\n    markdownRenderer.remarkReactComponents.a = this.origAComponent\n  }\n}\n"],"file":"toc.js"}